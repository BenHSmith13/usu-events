extends ../layout

block content
  h1 Post an event
  form(id='form',action='')
    include ./includes/event-form.jade
    input(type='reset', value ='Clear')
    input(type='submit', value='Submit')
  script.
    //Wait for document to load.
    $(document).ready(function(){
      $('#form').submit(function(){
        // thisEventData variable.
        var thisEventData = new EventData($('#Title').val(), $('#StartDate').val(), $('#StartTime').val(), $('#EndDate').val(), $('#EndTime').val(), $('#Place').val(), $('#Notes').val());

        //POST call; Sends thisEventData and alerts that an event was created.
        $.post('/event/new', {eventData: thisEventData}, function(data){
          alert("Event created!");
        });
      });
    });
